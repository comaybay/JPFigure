@inject NavigationManager UriHelper

<div class="navbar">
    <div class="left_nb">
        <img src="Image/logo.png">
    </div>
    <div class="center_nb">
        <form>
            <input type="text" placeholder="Tìm kiếm sản phẩm...?" @bind="@inputValue" @oninput="OnInputEvent">
            <button type="submit" @onclick=@Navigate>
                <img src="Image/magnifying-glass.png">              
            </button>
        </form>
    </div>
    <div class="right_nb">
        <div class="container">
            <button type="button" class="icon_bt" @onclick=@OnClickAccount>
                <img src="Image/user.png">
            </button>            
            <img class="arrow_image" src="Image/arrow-up.png">          
            <div class="account_ctn" style="display: @account_statue">
                <h4>ĐĂNG NHẬP TÀI KHOẢN</h4>
                <p class="signin_title">Nhập email và mật khẩu của bạn:</p>
                <input placeholder="Email...">
                <input placeholder="Password...">
                <p class="sub_title">This site is protected by reCAPTCHA and the Google <b>Privacy Policy</b> and <b>Terms of Service</b> apply.</p>
                <button class="signin_bt">ĐĂNG NHẬP</button>
                <div class="signup_ctn">
                    <p class="signup_title">Khách hàng mới?</p>
                    <button class="signup_bt" @onclick=@OnClickCreateAccount>Tạo tài khoản</button>
                </div>
                <div class="forgot_pass_ctn">
                    <p class="forgot_pass_title">Quên mật khẩu?</p>
                    <button class="forgot_pass_bt" @onclick=@OnClickForgotAccount>Khôi phục mật khẩu</button>
                </div>
            </div>
            <div class="create_account_ctn" style="display: @create_account_statue">
                <h4>Tạo tài khoản</h4>
                <input placeholder="Họ và Tên">
                <input placeholder="Email...">
                <input placeholder="Password...">
                <p class="sub_title">This site is protected by reCAPTCHA and the Google <b>Privacy Policy</b> and <b>Terms of Service</b> apply.</p>
                <button class="create_acc_signup_bt">ĐĂNG KÝ</button>
                <div class="create_acc_signin_ctn">
                    <p class="create_acc_signin_title">Đã có tài khoản?</p>
                    <button class="create_acc_signin_bt" @onclick=@OnClickBack2Account>Trở lại đăng nhập</button>
                </div>
            </div>
            <div class="forgot_account_ctn" style="display: @forgot_account_statue">
                <h4>KHÔI PHỤC MẬT KHẨU</h4>
                <p class="signin_title">Nhập email của bạn:</p>
                <input placeholder="Email">
                <p class="sub_title">This site is protected by reCAPTCHA and the Google <b>Privacy Policy</b> and <b>Terms of Service</b> apply.</p>
                <button class="forgot_acc_bt">KHÔI PHỤC</button>
                <div class="forgot_acc_ctn">
                    <p class="forgot_acc_title">Bạn đã nhớ mật khẩu?</p>
                    <button class="forgot_acc_signin_bt" @onclick=@OnClickBack2Account>Trở lại đăng nhập</button>
                </div>
            </div>
            <span>Tài Khoản Của Tôi</span>
        </div>
        <div class="container">
            <button type="button" class="icon_bt">
                <img src="Image/shopping-cart.png">
                <span class="icon_badge">0</span>
            </button>
            <span>Giỏ Hàng</span>
        </div>

    </div>
</div>
<div class="menu">
    <ul>
        <li><a href="#">Trang Chủ</a></li>
        <li><a href="/introduce">Giới Thiệu</a></li>
        <li>
            <a>Sản phẩm</a>
            <img src="Image/down-arrow.png">
            <div class="dropdown_menu">
                <ul>
                    <li>
                        <a href="/scalefigure">Scale Figure</a>
                    </li>
                    <li>
                        <a href="/nendoroid">Nendoroid</a>
                    </li>
                    <li>
                        <a href="/gundam">Gundam</a>
                        <img src="Image/right-arrow.png">
                        <div class="dropdown_menu_gundam">
                            <ul>
                                <li>
                                    <a href="/gundamsd">Super Deformed</a>
                                </li>
                                <li>
                                    <a href="/gundamhg">High Grade</a>
                                </li>
                                <li>
                                    <a href="/gundamrg">Real Grade</a>
                                </li>
                                <li>
                                    <a href="/gundammg">Master Grade</a>
                                </li>
                                <li>
                                    <a href="/gundampg">Perfect Grade</a>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="/other">Khác</a>
                    </li>
                </ul>
            </div>
        </li>
        <li><a href="https://www.facebook.com/japanfigure" target="_blank">Liên hệ</a></li>
    </ul>
</div>

@code {
    private string inputValue = "";
    private string account_statue = "none";
    private string create_account_statue = "none";
    private string forgot_account_statue = "none";
    private void OnInputEvent(ChangeEventArgs changeEvent)
    {
        inputValue = (string)changeEvent.Value;
    }
    private void Navigate() => UriHelper.NavigateTo($"/searchfor/{inputValue}", true);
    private void OnClickAccount(MouseEventArgs mouseEventArgs)
    {
        if (account_statue == "none" && create_account_statue == "none" && forgot_account_statue == "none")
        {
            account_statue = "block";
        }else{
            account_statue = "none";
            create_account_statue = "none";
            forgot_account_statue = "none";
        }
    }
    private void OnClickCreateAccount(MouseEventArgs mouseEventArgs)
    {
        create_account_statue = "block";
        account_statue = "none";
    }
    private void OnClickForgotAccount(MouseEventArgs mouseEventArgs)
    {
        forgot_account_statue = "block";
        account_statue = "none";
    }
    private void OnClickBack2Account(MouseEventArgs mouseEventArgs)
    {
        forgot_account_statue = "none";
        create_account_statue = "none";
        account_statue = "block";
    }
}
